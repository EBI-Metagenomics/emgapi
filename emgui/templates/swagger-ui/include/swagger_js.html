{% load staticfiles %}

<script src='{% static "swagger-ui-3.4.3/swagger-ui-bundle.js" %}'> </script>
<script src='{% static "swagger-ui-3.4.3/swagger-ui-standalone-preset.js" %}'> </script>
<script>

var baseUrl = window.location.protocol + "//" + window.location.host 

window.onload = function() {

  // Build a system
  const ui = SwaggerUIBundle({
    url: baseUrl + "{% url 'schema_view' %}?format=openapi",
    dom_id: '#swagger-ui',
    deepLinking: true,
    docExpansion: null,
    validatorUrl: null,
    supportHeaderParams: false,
    jsonEditor: true,
    supportedSubmitMethods: ["get", "post"],
    presets: [
      SwaggerUIBundle.presets.apis,
      // SwaggerUIStandalonePreset
    ],
    plugins: [
      SwaggerUIBundle.plugins.DownloadUrl
    ],
    // layout: "StandaloneLayout"
  })

  window.ui = ui
}
</script>